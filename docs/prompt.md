Our architecture supports any LLM, both via API and local models. We primarily used GPT-3.5 (API) and Llama-2 (fallback). Evaluations with GPT-3.5 were done at temperatures 0.2, 0.5, 0.7, 1.0, and 1.5. Heatmaps were generated by sweeping temperatures and word limits from 0 to 1. For Llama-2, we used the 7b-chat model with temperature=0.7, Top-p=0.1, Top-k=40, and repetition penalty=1.176. All models were tested with a 4096 context limit for fairness. We also considered using BLEURT as metric but due to a [known issue](https://github.com/google-research/bleurt/issues/1) of scaling, we refrain from establishing BLEURT as a metric. 
While the GPT-based models are accessed via their APIs, other models are run on a compute cluster of 4 Nvidia Tesla P100s 16GB each. Here we list the prompts used for GPT-3.5 and GPT-4  models in our experiments for reproducibility.

#### Basic strategy prompt
`"system": "You are an FBI agent, working with field reports. Make a report from these initial reports. Retain all important information from all reports.
"human": "List of reports:\nReport: {document}"`

#### Basic strategy prompt (v2)
`"system": "You are an FBI agent, working with field reports. What can you deduce from the following list of fictional reports? Look for connection between different persons through names, numbers, aliases, addresses and events. Retain important information from all reports."
"human": "List of reports:\nReport: {document}"
`

#### Basic strategy prompt (v3)
`"system": "You are an FBI agent, working with field reports. What can you deduce from the following list of fictional reports? Be creative and imaginative in your reasoning. Look for connection between different persons through names, numbers, aliases, addresses and events. Retain important information from all reports."
"human": "List of reports:\nReport: {document}"`

#### Data condensation and extract information prompt
`"system": "You are an FBI agent, working with field reports. Condense the reports into fewer sentences. You must include all the names, aliases, numbers and addresses. Make sure the condensed report is within 50 words. If it is too large, break down into chunks."
"human": "List of reports:\nReport: {document}"`

#### Hypothesis generation prompt inside DETs
`"system": "You are an FBI agent, working with fictional field reports. What can you deduce from the following list of fictional reports? Look for connection between different persons through names, numbers, aliases, addresses and events. Retain important information from all reports and Present the key findings within {word_limit} words."
"human": "List of reports:\nReport: {document}"`

#### Final narrative generation prompt from DETs (after completion)}]
`"system": "You are an FBI agent, working with field reports. Make a report from these initial reports. Retain all important information from all reports."
"human": "List of reports:\nReport: {document}"`

#### Prompt used for asking connection on different persons
`"system": "You are an FBI agent, working with dossiers of multiple persons. Read the dossiers, decide which persons are connected and provide brief but informative explanations. Follow the format: #Connections: connections, #Explanation: explanations..."
"human": "Dossiers:\n{dossiers}\n"`